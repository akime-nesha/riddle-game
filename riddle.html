<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Riddle Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      h2 {
        color: black;
        text-align: center;
      }
      .riddle-container {
        text-align: center;
        margin-top: 20px;
      }
      .riddle-box {
        font-size: 20px;
        font-weight: bold;
        margin-bottom: 10px;
      }
      .attempts {
        color: red;
        margin-top: 10px;
      }

      /* Shake effect for wrong answers */
      @keyframes shake {
        0% { transform: translateX(0); }
        25% { transform: translateX(-10px); }
        50% { transform: translateX(10px); }
        75% { transform: translateX(-10px); }
        100% { transform: translateX(0); }
      }

      .shake {
        animation: shake 0.10s ease-in-out;
      }

      /* Green effect for correct answer */
      @keyframes greenEffect {
        0% { background-color: green; }
        100% { background-color: white; }
      }

      .green {
        animation: greenEffect 0.10s ease-in-out;
      }
    </style>
  </head>
  <body>
    <h2>Riddle Game</h2>

    <div class="riddle-container">
      <!-- Display Riddle -->
      <div class="riddle-box" id="riddle-box">What’s tall, can be sucked on, and has a sweet taste, You don’t need to rush it, just go at your pace?</div>

      <!-- User Input Section -->
      <input type="text" id="answer-input" placeholder="Your answer">
      <button onclick="checkAnswer()">Submit Answer</button>
      <div class="attempts" id="attempts-left">You have 3 attempts remaining.</div>
    </div>

    <script>
      const riddles = [
        { question: "What’s tall, can be sucked on, and has a sweet taste, You don’t need to rush it, just go at your pace?", answer: "popsicle" },
        { question: "What’s soft when you start, but gets tough when you’re done, It makes a popping sound when it’s had its fun?", answer: "bubblegum" },
        { question: "What’s long, stiff, and often gets a good stroke?", answer: "paintbrush" }
      ];

      let currentRiddleIndex = 0;
      let attempts = 3;

      // Function to check the player's answer
      function checkAnswer() {
        const userAnswer = document.getElementById('answer-input').value.trim().toLowerCase();

        if (userAnswer === riddles[currentRiddleIndex].answer.toLowerCase()) {
          // Correct answer - change color to green briefly
          document.getElementById('riddle-box').classList.add('green');
          alert("Correct! You solved the riddle.");
          currentRiddleIndex++;

          // Reset to next riddle after a brief delay
          setTimeout(() => {
            if (currentRiddleIndex < riddles.length) {
              // Show the next riddle
              document.getElementById('riddle-box').textContent = riddles[currentRiddleIndex].question;
              document.getElementById('answer-input').value = '';  // Clear input field
              attempts = 3;  // Reset attempts for the new riddle
              document.getElementById('attempts-left').textContent = "You have 3 attempts remaining.";
            } else {
              alert("Congrats! You've solved all the riddles. You're not that green after all");
              resetGame();
            }
          }, 500); // Wait for the green effect to finish
        } else {
          attempts--;
          if (attempts > 0) {
            document.getElementById('attempts-left').textContent = `Wrong answer! You have ${attempts} attempts remaining.`;
            // Add shake effect on the riddle box
            document.getElementById('riddle-box').classList.add('shake');
            // Remove shake effect after the animation ends
            setTimeout(() => {
              document.getElementById('riddle-box').classList.remove('shake');
            }, 500);
          } else {
            alert("Oops! Better luck next time.");
            resetGame();
          }
        }
      }

      // Function to reset the game after success or failure
      function resetGame() {
        currentRiddleIndex = 0;
        attempts = 3;
        document.getElementById('answer-input').value = '';
        document.getElementById('riddle-box').textContent = riddles[currentRiddleIndex].question;
        document.getElementById('attempts-left').textContent = "You have 3 attempts remaining.";
        document.getElementById('riddle-box').classList.remove('green'); // Remove green effect
      }
    </script>
  </body>
</html>
